var accountingList,checkAll=document.getElementById("checkAll"),perPage=(checkAll&&(checkAll.onclick=function(){var e=document.querySelectorAll('.form-check-all input[type="checkbox"]');!0===checkAll.checked?Array.from(e).forEach(function(e){e.checked=!0,e.closest("tr").classList.add("table-active")}):Array.from(e).forEach(function(e){e.checked=!1,e.closest("tr").classList.remove("table-active")})}),8),options={valueNames:["id","accounting_number","accounting_name","accounting_type","accounting_desc"],page:perPage,pagination:!0,plugins:[ListPagination({left:2,right:2})]},isValue=(document.getElementById("accountingList")&&(accountingList=new List("accountingList",options).on("updated",function(e){0==e.matchingItems.length?document.getElementsByClassName("noresult")[0].style.display="block":document.getElementsByClassName("noresult")[0].style.display="none",document.getElementById("edit-btn").style.display="none";var t=1==e.i,n=e.i>e.matchingItems.length-e.page;document.querySelector(".pagination-prev.disabled")&&document.querySelector(".pagination-prev.disabled").classList.remove("disabled"),document.querySelector(".pagination-next.disabled")&&document.querySelector(".pagination-next.disabled").classList.remove("disabled"),t&&document.querySelector(".pagination-prev").classList.add("disabled"),n&&document.querySelector(".pagination-next").classList.add("disabled"),e.matchingItems.length<=perPage?document.querySelector(".pagination-wrap").style.display="none":document.querySelector(".pagination-wrap").style.display="flex",e.matchingItems.length==perPage&&document.querySelector(".pagination.listjs-pagination").firstElementChild.children[0].click(),0<e.matchingItems.length?document.getElementsByClassName("noresult")[0].style.display="none":document.getElementsByClassName("noresult")[0].style.display="block"})),(isCount=(new DOMParser).parseFromString(accountingList.items.slice(-1)[0]._values.id,"text/html")).body.firstElementChild.innerHTML),idField=document.getElementById("id-field"),accounting_number_field=document.getElementById("accounting-number-field"),accounting_name_field=document.getElementById("accounting-name-field"),accounting_desc_field=document.getElementById("accounting-desc-field"),accounting_type_field=document.getElementById("accounting-type-field"),addBtn=document.getElementById("add-btn"),editBtn=document.getElementById("edit-btn"),removeBtns=document.getElementsByClassName("remove-item-btn"),editBtns=document.getElementsByClassName("edit-item-btn");function filterContact(e){var t=e;accountingList.filter(function(e){e=(matchData=(new DOMParser).parseFromString(e.values().status,"text/html")).body.firstElementChild.innerHTML;return"All"==e||"All"==t||e==t}),accountingList.update()}function updateList(){var t=document.querySelector("input[name=accounting-type-field]:checked").value;data=userList.filter(function(e){return"All"==t||e.values().sts==t}),userList.update()}refreshCallbacks(),document.getElementById("showModal")&&(document.getElementById("showModal").addEventListener("show.bs.modal",function(e){e.relatedTarget.classList.contains("edit-item-btn")?(document.getElementById("exampleModalLabel").innerHTML="Modifier Compte",document.getElementById("showModal").querySelector(".modal-footer").style.display="block",null!=document.getElementById("add-btn")&&(document.getElementById("add-btn").style.display="none"),document.getElementById("edit-btn").style.display="block"):e.relatedTarget.classList.contains("add-btn")?(document.getElementById("exampleModalLabel").innerHTML="Ajouter Compte",document.getElementById("showModal").querySelector(".modal-footer").style.display="block",document.getElementById("edit-btn").style.display="none",document.getElementById("add-btn").style.display="block"):(document.getElementById("exampleModalLabel").innerHTML="Liste Compte",document.getElementById("showModal").querySelector(".modal-footer").style.display="none")}),ischeckboxcheck(),document.getElementById("showModal").addEventListener("hidden.bs.modal",function(e){clearFields()})),document.getElementById("deleteRecordModal")&&document.getElementById("deleteRecordModal").addEventListener("show.bs.modal",function(e){e.relatedTarget.classList.contains("remove-item-btn")&&(document.getElementById("delete-item").value=e.relatedTarget.dataset.id)}),document.querySelector("#accountingList").addEventListener("click",function(){refreshCallbacks(),ischeckboxcheck()});var table=document.getElementById("accountingPlanTable"),tr=table.getElementsByTagName("tr"),trlist=table.querySelectorAll(".list tr"),count=11,accountingTypeVal=(addBtn&&addBtn.addEventListener("click",function(e){""!==accounting_number_field.value&&""!==accounting_name_field.value&&""!==accounting_desc_field.value&&(accountingList.add({id:'<a href="javascript:void(0);" class="fw-medium link-primary">#VZ'+count+"</a>",accounting_number:accounting_number_field.value,accounting_name:accounting_name_field.value,accounting_desc:accounting_desc_field.value,accounting_type:isStatus(accounting_type_field.value)}),accountingList.sort("id",{order:"desc"}),document.getElementById("close-modal").click(),clearFields(),refreshCallbacks(),filterContact("All"),count++,Swal.fire({position:"center",icon:"success",title:"Compte ajouté avec succès!",showConfirmButton:!1,timer:2e3,showCloseButton:!0}))}),editBtn&&editBtn.addEventListener("click",function(e){document.getElementById("exampleModalLabel").innerHTML="Modifier Compte";var t=accountingList.get({id:idField.value});Array.from(t).forEach(function(e){(isid=(new DOMParser).parseFromString(e._values.id,"text/html")).body.firstElementChild.innerHTML==itemId&&e.values({id:'<a href="javascript:void(0);" class="fw-medium link-primary">'+idField.value+"</a>",accounting_number:accounting_number_field.value,accounting_name:accounting_name_field.value,accounting_desc:accounting_desc_field.value,accounting_type:isStatus(accounting_type_field.value)})}),document.getElementById("close-modal").click(),clearFields(),Swal.fire({position:"center",icon:"success",title:"Customer updated Successfully!",showConfirmButton:!1,timer:2e3,showCloseButton:!0})}),new Choices(accounting_type_field));function isStatus(e){switch(e){case"encaissement":return'<span class="badge badge-soft-success text-uppercase">'+e+"</span>";case"decaissement":return'<span class="badge badge-soft-danger text-uppercase">'+e+"</span>"}}function ischeckboxcheck(){document.getElementsByName("chk_child").forEach(function(e){e.addEventListener("click",function(e){e.target.checked?e.target.closest("tr").classList.add("table-active"):e.target.closest("tr").classList.remove("table-active")})})}function refreshCallbacks(){removeBtns&&Array.from(removeBtns).forEach(function(e){e.addEventListener("click",function(e){e.target.closest("tr").children[1].innerText,itemId=e.target.closest("tr").children[1].innerText;e=accountingList.get({id:itemId});Array.from(e).forEach(function(e){var t=(deleteid=(new DOMParser).parseFromString(e._values.id,"text/html")).body.firstElementChild;deleteid.body.firstElementChild.innerHTML==itemId&&document.getElementById("delete-record").addEventListener("click",function(){accountingList.remove("id",t.outerHTML),document.getElementById("deleteRecordModal").click()})})})}),editBtn&&Array.from(editBtns).forEach(function(e){e.addEventListener("click",function(e){e.target.closest("tr").children[1].innerText,itemId=e.target.closest("tr").children[1].innerText;e=accountingList.get({id:itemId});Array.from(e).forEach(function(e){var t=(isid=(new DOMParser).parseFromString(e._values.id,"text/html")).body.firstElementChild.innerHTML;t==itemId&&(idField.value=t,accounting_number_field.value=e._values.accounting_number,accounting_name_field.value=e._values.accounting_name,accounting_desc_field.value=e._values.accounting_desc,accountingTypeVal&&accountingTypeVal.destroy(),accountingTypeVal=new Choices(accounting_type_field),t=(val=(new DOMParser).parseFromString(e._values.accounting_type,"text/html")).body.firstElementChild.innerHTML,accountingTypeVal.setChoiceByValue(t))})})})}function clearFields(){accounting_number_field.value="",accounting_name_field.value="",accounting_desc_field.value=""}function deleteMultiple(){ids_array=[];var e=document.getElementsByName("chk_child");if(Array.from(e).forEach(function(e){1==e.checked&&(e=e.parentNode.parentNode.parentNode.querySelector(".id a").innerHTML,ids_array.push(e))}),"undefined"!=typeof ids_array&&0<ids_array.length){if(!confirm("Êtes-vous sûr de vouloir supprimer ceci?"))return!1;Array.from(ids_array).forEach(function(e){accountingList.remove("id",`<a href="javascript:void(0);" class="fw-medium link-primary">${e}</a>`)}),document.getElementById("checkAll").checked=!1}else Swal.fire({title:"Veuillez cocher au moins une case",confirmButtonClass:"btn btn-info",buttonsStyling:!1,showCloseButton:!0})}document.querySelector(".pagination-next")&&document.querySelector(".pagination-next").addEventListener("click",function(){document.querySelector(".pagination.listjs-pagination")&&document.querySelector(".pagination.listjs-pagination").querySelector(".active")&&document.querySelector(".pagination.listjs-pagination").querySelector(".active").nextElementSibling.children[0].click()}),document.querySelector(".pagination-prev")&&document.querySelector(".pagination-prev").addEventListener("click",function(){document.querySelector(".pagination.listjs-pagination")&&document.querySelector(".pagination.listjs-pagination").querySelector(".active")&&document.querySelector(".pagination.listjs-pagination").querySelector(".active").previousSibling.children[0].click()});var attroptions={valueNames:["name","born",{data:["id"]},{attr:"src",name:"image"},{attr:"href",name:"link"},{attr:"data-timestamp",name:"timestamp"}]},existOptionsList={valueNames:["contact-name","contact-message"]},existList=new List("contact-existing-list",existOptionsList),fuzzySearchList=new List("fuzzysearch-list",{valueNames:["name"]}),paginationList=new List("pagination-list",{valueNames:["pagi-list"],page:3,pagination:!0});